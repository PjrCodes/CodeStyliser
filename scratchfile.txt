
you found a valid condition or loop with all parenthese closed and you are redy to add a {
    -> add {
    -> set a variable that } is pending
    -> first check that the next non comment and non whitespace is if () etc and also switch
    -> if it is one of the keywords, then, check if it has curly brace..
    -> then, keep storing all {} until you find a close of this like the logic used for ()
    -> once the } is found add your pending }
    -> reset the variable of pending 

MACRO ERROR CHECKING:

search for (#define)'s
    IF end of this line has \
        THEN,
            IF it is a keyword line 
                THEN, wherever we have to add { 
                    IF that line has \
                        THEN, add {  \ instead of only {; 
                            and find SEMICOLON line (ie, closingBrace line). 
                            IF this line has \
                                THEN add } \ to nxtLn
                                ELSE add }
                            ENDIF
                    ELSE, then ignore, and dont print
                    ENDIF
            ENDIF
        ELSE ignore, and dont print
    ENDIF
